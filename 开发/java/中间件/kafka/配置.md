## broker配置

- `message.max.bytes` :单条消息最大长度，默认1000000B
- `replica.fetch.max.bytes`:默认1M，broker可复制的消息的最大字节数。这个值应该比message.max.bytes大，否则broker会接收此消息，但无法将此消息复制出去，从而造成数据丢失。

## Topic参数

- `num.partitions`: 新 topic 默认的分区数。在后续运维中，partition 的数量只会增加，不会减少。
- `log.retension.ms`: 按照时间决定 topic 中的数据可以保存多久。
- `log.retension.bytes`: 按照存储空间决定 topic 中的数据可以保存多少。
- `log.segment.bytes`: 表示按照存储空间决定日志片段文件的大小。该参数在 CKafka 中不支持
- `log.segment.ms`: 表示按照时长决定日志片段大小。

## 生产者参数

- `acks`: 消息发送给 Kafka broker，由于实际上会有多个 broker，因此消息是需要复制多份的。该参数表示需要等待多少个 broker 的响应，才视为消息发送成功:
  - 0: 表示不需要等待 broker 响应
  - 1: 表示 leader 响应即可
  - all: 表示需要所有的 broker 响应
- `buffer.memory`: 生产者的缓冲区大小。单位是 message 的数量。当缓冲区满了之后，SDK 会根据 `maxblock.ms` 等待并阻塞一段时间之后再进行重试。如果缓冲区还是满了的状态，则会抛出异常或返回错误
- `compression.type`: 消息压缩格式，可选值为: `snappy`, `gzip`, `lz4`
- `retries`: 重试次数，
-  `retry.backoff.ms`：重试间隔，默认是 100ms
- `batch.size`: 一个批次的数据大小，字节数。为了减少网络传输中的消耗，Kafka 生产者并不是一个消息就通过一次发送发出去，而是组成一个个批次进行发送。当一个批次的大小达到这个参数时，则会马上发出。
- `linger.ms`: 一个批次发送之前的缓冲时间。当批次的尺寸未达到 `batch.size` 的话，SDK 也不会一直按住 message 不发送，而是等待一段时间之后也会把内存中的批次发出
- `client id`: 自定义字符串，用于标识生产者
- `max.id.flight.requests.per.connection`: 这个参数指的是收到服务器响应之前，生产者可以发送的消息数。设置为 1 可以保证消息顺序，但是相应的效率就下降了
- `request.timeout.ms`: 生产者发送数据之后等待响应的时间
- `bootstrap.servers`:broker地址列表

## 消费者参数

- `fetch.message.max.bytes `:默认 1MB，消费者能读取的最大消息。这个值应该大于或等于message.max.bytes。如果不调节这个参数，就会导致消费者无法消费到消息，并且不会爆出异常或者警告，导致消息在broker中累积，此处要注意。
- `bootstrap.servers`:broker地址列表
- `group.id`:消费者组
- `enable.auto.commit`:自动提交
- `auto.commit.interval.ms`:自动提交时间间隔
- `auto.offset.reset`:
  - **`earliest`**当各分区下有已提交的offset时，从提交的offset开始消费；无提交的offset时，从头开始消费
  - **`latest`** 当各分区下有已提交的offset时，从提交的offset开始消费；无提交的offset时，消费新产生的该分区下的数据
  - **`none`** 各分区都存在已提交的offset时，从offset后开始消费；只要有一个分区不存在已提交的offset，则抛出异常
- `heartbeat.interval.ms`心跳间隔。心跳是在consumer与coordinator【每个KafkaServer都有一个GroupCoordinator实例，管理多个消费者组，主要用于offset位移管理和Consumer Rebalance】之间进行的。心跳是确定consumer存活，加入或者退出group的有效手段。这个值必须设置的小于session.timeout.ms，因为：当Consumer由于某种原因不能发Heartbeat到coordinator时，并且时间超过session.timeout.ms时，就会认为该consumer已退出，它所订阅的partition会分配到同一group 内的其它的consumer上。
  通常设置的值要低于session.timeout.ms的1/3。
  默认值是：3000 （3s）
- `session.timeout.ms`Consumer session 过期时间。这个值必须设置在broker configuration中的group.min.session.timeout.ms 与 group.max.session.timeout.ms之间。其默认值是：10000 （10 s）
- `max.poll.records`:Consumer每次调用poll()时取到的records的最大数。