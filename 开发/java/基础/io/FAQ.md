### 直接内存受jvm管理吗

直接内存本身不受gc的影响，但是由于有对象在堆引用这这块内存，那么受到gc的间接影响，

### java普通io与其他io（c、c++方式）的区别

#### java普通io过程

比无虚拟机语言多一层JVM内外拷贝。

![img](https://blog.ayang818.top/large-file-I-O-in-java/1.png)

#### 无虚拟机语言io过程

![截屏2021-06-24 16.02.15](https://i.loli.net/2021/06/24/T95PchwjUJqMKEO.png)

**读取**

1.用户空间向内核空间发出指令——我要读取文件a
2.系统切换上下文，从用户空间切到内核空间，内核空间准备向硬盘读取内容
3.硬盘内容以DMA形式读取进内核缓冲区（tips:DMA——Directory Memory Access 直接内存访问）
4.系统切换上下文，从内核空间切到用户空间，把内核空间的缓冲区的内容写入用户缓冲区
5.业务逻辑处理

**写入**
6.准备写入b文件，用户空间向内核空间发出指令——我要写文件b，并且把用户缓冲区的内容写入内核缓冲区
7.系统切换上下文，从用户空间切到内核空间，内核空间准备向硬盘写入内容
8.写入成功，系统返回
9.系统切换上下文，从内核空间切到用户空间，内容写入完毕