1. 事务四特性

   **l 原子性**：一个事务中所有对数据库的操作是一个不可分割的操作序列，要么全做，要么全不做

   l **一致性**：数据库从一个正确的状态变为另一个正确的状态

   l **隔离性**：一个事务的执行，不受其他事务的干扰

   l **持久性**：事务一旦提交，对数据库的改变是永久的

2. 事务存在问题

   #### l **脏读**

   所谓的脏读，其实就是读到了别的事务回滚前的脏数据。比如事务B执行过程中修改了数据X，在未提交前，事务A读取了X，而事务B却回滚了，这样事务A就形成了脏读。

   #### l **不可重复读**

   不可重复读字面含义已经很明了了，比如事务A首先读取了一条数据，然后执行逻辑的时候，事务B将这条数据改变了，然后事务A再次读取的时候，发现数据不匹配了，就是所谓的不可重复读了。

   #### l **幻读**

   幻读也是这样子，事务A首先根据条件索引得到10条数据，然后事务B改变了数据库一条数据，导致也符合事务A当时的搜索条件，这样事务A再次搜索发现有11条数据了，就产生了幻读。

3. 隔离性

   #### l **SERIALIZABLE**

   最严格的级别，事务串行执行，资源消耗最大。

   #### l **REPEATABLE_READ**

   保证了一个事务不会修改已经由另一个事务读取但未提交（回滚）的数据。避免了“脏读取”和“不可重复读取”的情况，但是带来了更多的性能损失。

   #### l **READ_COMMITTED**

   大多数主流数据库的默认事务等级，保证了一个事务不会读到另一个并行事务已修改但未提交的数据，避免了“脏读取”。该级别适用于大多数系统。

   #### l **READ_UNCOMMITTED**

   保证了读取过程中不会读取到非法数据。

   | 隔离级别                     | 脏读   | 不可重复读 | 幻读   |
   | :--------------------------- | :----- | :--------- | :----- |
   | 未提交读（Read uncommitted） | 可能   | 可能       | 可能   |
   | 已提交读（Read committed）   | 不可能 | 可能       | 可能   |
   | 可重复读（Repeatable read）  | 不可能 | 不可能     | 可能   |
   | 可串行化（Serializable ）    | 不可能 | 不可能     | 不可能 |

4. mysql锁   

   https://blog.csdn.net/a837199685/article/details/54563740
   
   https://zhuanlan.zhihu.com/p/29150809